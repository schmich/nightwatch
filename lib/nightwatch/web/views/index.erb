<!DOCTYPE html>
<html ng-app="nightwatch">
<head>
  <title>Nightwatch</title>
  <meta name="viewport" content="user-scalable=no, initial-scale=1, minimum-scale=1, maximum-scale=1, width=device-width">
  <script src="/js/angular.min.js"></script>
  <script src="/js/angular-filter.min.js"></script>
  <script src="/js/app.js"></script>
  <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="/css/font-awesome.min.css" />
  <link rel="stylesheet" type="text/css" href="/css/app.css">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon.png" />
  <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico" />
</head>
<body ng-controller="ReportCtrl">
  <nav class="navbar navbar-default" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <a class="navbar-brand" href="/"><i class="fa fa-bolt"></i>&nbsp;&nbsp;Nightwatch</a>
      </div>
    </div>
  </nav>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <ul class="exceptions">
          <li ng-class="{ exception: true, active: details(exception) }" ng-repeat="exception in exceptions | orderBy:'-timestamp'">
            <h1><span class="class">{{exception.class}}</span>: <span class="message">{{exception.message}}</span></h1>
            <div><span class="host">{{exception.host}}</span></div>
            <div class="expando">
              <a href="" ng-click="toggleDetails(exception)">
                <i ng-show="!details(exception)" class="fa fa-chevron-down"></i>
                <i ng-show="details(exception)" class="fa fa-chevron-up"></i>
              </a>
            </div>
            <div class="stack-summary" ng-show="!details(exception)">
              <span ng-repeat="frame in exception.stack | before:5">
                <span class="method">{{frame.label}}</span> <span class="separator" ng-if="!$last || exception.stack.length > 4">&larr;</span>
              </span>
              <span ng-if="exception.stack.length > 4">
                <span class="method">...</span>
              </span>
            </div>
            <ul class="stack-details" ng-show="details(exception)">
              <li ng-repeat="frame in exception.stack">
                <span class="method">{{frame.label}}</span>
                <span class="path">{{frame.path | basename}}</span>:<span class="line">{{frame.line}}</span>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </div>
</body>
</html>
